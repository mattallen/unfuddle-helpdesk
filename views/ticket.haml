- @title = @ticket.summary

#ticket
  %h3= h(@ticket.summary)
  
  - reset_cycle
  
  %table.ticket_info{:cellpadding => 0, :cellspacing => 0}
    %tbody
      %tr{:class => "#{@ticket.out_of_bounds? ? 'out-of-bounds ' : (!@ticket.assigned? ? 'unassigned ' : nil)}#{cycle}"}
        %th
          No.
        %td
          = "##{h(@ticket.number)}"
      %tr{:class => "#{@ticket.out_of_bounds? ? 'out-of-bounds ' : (!@ticket.assigned? ? 'unassigned ' : nil)}#{cycle}"}
        %th
          Reporter
        %td
          = h(@ticket.reporter_name)
      %tr{:class => "#{@ticket.out_of_bounds? ? 'out-of-bounds ' : (!@ticket.assigned? ? 'unassigned ' : nil)}#{cycle}"}
        %th
          Assignee
        %td
          = h(@ticket.assignee_name)
      %tr{:class => "#{@ticket.out_of_bounds? ? 'out-of-bounds ' : (!@ticket.assigned? ? 'unassigned ' : nil)}#{cycle}"}
        %th
          Due
        %td
          - if @ticket.due_on
            = relative_date(@ticket.due_on)
            = "(#{@ticket.due_on.to_s})"
      %tr{:class => "#{@ticket.out_of_bounds? ? 'out-of-bounds ' : (!@ticket.assigned? ? 'unassigned ' : nil)}#{cycle}"}
        %th
          Updated
        %td
          = relative_date(@ticket.updated_at.to_s)
  
  %h4 Description
  
  %p.description
    = convert_breaks(h(@ticket.description))
    
  %h4 Comments
  
  - @ticket.comments.each_with_index do |comment, index|
    .comment
      .header
        %span.name
          = h(comment.commenter_name)
        %span.date
          = relative_date(comment.created_at.to_s)
      .body
        %p
          = convert_breaks(h(comment.body))
      

  